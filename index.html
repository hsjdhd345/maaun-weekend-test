<!DOCTYPE html>
<html>
<head>
  <title>MAAUN Weekend Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background: #eef2f5; margin: 0; }
    .header { background: #0b4f6c; color: white; display: flex; align-items: center; padding: 15px; }
    .header img { width: 80px; margin-right: 15px; }
    .header h1 { font-size: 20px; margin: 0; }
    .header p { margin: 0; font-size: 14px; }
    .container { max-width: 900px; background: white; margin: 20px auto; padding: 20px; border-radius: 8px; }
    h2 { text-align: center; color: #0b4f6c; }
    input[type=text], select { width: 100%; padding: 10px; margin-bottom: 12px; }
    button { width: 100%; padding: 14px; font-size: 16px; background: #0b4f6c; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 15px; }
    button:disabled { background: gray; cursor: not-allowed; }
    .subject { background: #f0f6fa; padding: 12px; margin-top: 15px; cursor: pointer; font-weight: bold; border-left: 5px solid #0b4f6c; display:flex; justify-content: space-between; align-items:center; }
    .subject.active { background: #d0e4f0; }
    .arrow { transition: transform 0.3s; }
    .arrow.down { transform: rotate(0deg); }
    .arrow.up { transform: rotate(180deg); }
    .questions { display: none; padding: 10px; }
    .question { margin-bottom: 12px; }
    .result-box { margin-top: 20px; background: #f9f9f9; padding: 15px; border-radius: 6px; }
  </style>
</head>
<body>

<div class="header">
  <img src="maaun-logo.jpg" alt="MAAUN Logo">
  <div>
    <h1>Maryam Abacha American University of Nigeria</h1>
    <p>Weekend Test</p>
  </div>
</div>

<div class="container">

  <!-- LOGIN FORM -->
  <div id="loginForm">
    <h2>Enter Your Details to Start Test</h2>
    <input type="text" id="studentName" placeholder="Full Name">
    <input type="text" id="matricNo" placeholder="Matric Number">
    <select id="department">
      <option value="">Select Department</option>
      <option value="PTY">PTY</option>
      <option value="MLS">MLS</option>
    </select>
    <button onclick="startTest()">Start Test</button>
  </div>

  <!-- TEST CONTENT -->
  <div id="testContent" style="display:none;">
    <h2>MAAUN WEEKEND TEST</h2>

    <!-- SUBJECTS and Questions (unchanged) -->
    <div class="subject" onclick="toggle('chem', this)">Chemistry <span class="arrow down">▼</span></div>
    <div class="questions" id="chem">
      <div class="question">1. Which element has electronic configuration 2,8,1?<br>
        <input type="radio" name="c1" value="A"> Magnesium<br>
        <input type="radio" name="c1" value="B"> Sodium<br>
        <input type="radio" name="c1" value="C"> Aluminum<br>
        <input type="radio" name="c1" value="D"> Neon
      </div>
      <div class="question">2. Elements in the same group have the same?<br>
        <input type="radio" name="c2" value="A"> Atomic mass<br>
        <input type="radio" name="c2" value="B"> Number of shells<br>
        <input type="radio" name="c2" value="C"> Valence electrons<br>
        <input type="radio" name="c2" value="D"> Atomic number
      </div>
      <div class="question">3. How many electrons are in the outermost shell of oxygen?<br>
        <input type="radio" name="c3" value="A"> 4<br>
        <input type="radio" name="c3" value="B"> 5<br>
        <input type="radio" name="c3" value="C"> 6<br>
        <input type="radio" name="c3" value="D"> 8
      </div>
      <div class="question">4. Which of the following is a noble gas?<br>
        <input type="radio" name="c4" value="A"> Chlorine<br>
        <input type="radio" name="c4" value="B"> Neon<br>
        <input type="radio" name="c4" value="C"> Sodium<br>
        <input type="radio" name="c4" value="D"> Calcium
      </div>
      <div class="question">5. Atomic number represents number of?<br>
        <input type="radio" name="c5" value="A"> Neutrons<br>
        <input type="radio" name="c5" value="B"> Protons<br>
        <input type="radio" name="c5" value="C"> Nucleons<br>
        <input type="radio" name="c5" value="D"> Shells
      </div>
    </div>

    <!-- Other subjects (French, Physics, Maths, English) remain unchanged -->
    <!-- ...copy your existing question blocks here... -->

    <button id="submitBtn" onclick="mark()">Submit Weekend Test</button>
    <button id="showCorrectionsBtn" onclick="showCorrections()" style="display:none;">Show Corrections</button>
    <div id="result" class="result-box"></div>
  </div>
</div>

<script>
function startTest(){
  let name=document.getElementById("studentName").value.trim();
  let matric=document.getElementById("matricNo").value.trim();
  let dept=document.getElementById("department").value;
  if(!name||!matric||!dept){ alert("Please fill in all fields."); return; }
  window.studentInfo={name:name,matric:matric,dept:dept};
  document.getElementById("loginForm").style.display="none";
  document.getElementById("testContent").style.display="block";
}

function toggle(id,el){
  let box=document.getElementById(id);
  let arrow=el.querySelector(".arrow");
  box.style.display=box.style.display==="none"?"block":"none";
  arrow.classList.toggle("up");
  arrow.classList.toggle("down");
}

function mark(){
  const correct={
    c1:"B",c2:"C",c3:"C",c4:"B",c5:"B",
    f1:"A",f2:"B",f3:"A",f4:"A",f5:"B",
    p1:"C",p2:"D",p3:"B",p4:"B",p5:"D",
    m1:"B",m2:"C",m3:"A",m4:"C",m5:"B",
    e1:"C",e2:"B",e3:"B",e4:"C",e5:"A"
  };
  let scores={Chemistry:0,French:0,Physics:0,Maths:0,English:0}; 
  let total=0;

  for(let q in correct){
    let sel=document.querySelector(`input[name="${q}"]:checked`);
    if(sel && sel.value===correct[q]){
      total++;
      if(q.startsWith("c"))scores.Chemistry++;
      if(q.startsWith("f"))scores.French++;
      if(q.startsWith("p"))scores.Physics++;
      if(q.startsWith("m"))scores.Maths++;
      if(q.startsWith("e"))scores.English++;
    }
  }

  document.querySelectorAll("input[type=radio]").forEach(r=>r.disabled=true);
  document.getElementById("submitBtn").disabled=true;

  document.getElementById("showCorrectionsBtn").style.display="block";

  let info=window.studentInfo;
  let message=`MAAUN WEEKEND TEST RESULT
Name: ${info.name}
Matric No: ${info.matric}
Department: ${info.dept}
Chemistry: ${scores.Chemistry}/5
French: ${scores.French}/5
Physics: ${scores.Physics}/5
Maths: ${scores.Maths}/5
English: ${scores.English}/5
TOTAL: ${total}/25`;

  let whatsappLink="https://wa.me/2348068581625?text="+encodeURIComponent(message);
  document.getElementById("result").innerHTML=`<h3>Result</h3>
    <p><b>Total Score:</b> ${total}/25</p>
    <a href="${whatsappLink}" target="_blank"><button>Send Result on WhatsApp</button></a>`;

  ["chem","french","physics","maths","english"].forEach(id=>{
    let sub=document.querySelector(`.subject[onclick*='${id}']`);
    sub.classList.add("active");
  });
}

function showCorrections(){
  const correct={
    c1:"B",c2:"C",c3:"C",c4:"B",c5:"B",
    f1:"A",f2:"B",f3:"A",f4:"A",f5:"B",
    p1:"C",p2:"D",p3:"B",p4:"B",p5:"D",
    m1:"B",m2:"C",m3:"A",m4:"C",m5:"B",
    e1:"C",e2:"B",e3:"B",e4:"C",e5:"A"
  };

  for(let q in correct){
    let sel=document.querySelector(`input[name="${q}"]:checked`);
    let parent = sel ? sel.parentElement : document.querySelector(`input[name="${q}"]`).parentElement;
    parent.querySelectorAll(".marker").forEach(m=>m.remove());
    if(sel && sel.value===correct[q]){
      parent.innerHTML += ' <span class="marker" style="color:green;font-weight:bold;">✅</span>';
    } else {
      parent.innerHTML += ` <span class="marker" style="color:red;font-weight:bold;">❌ (Correct: ${correct[q]})</span>`;
    }
  }
  document.getElementById("showCorrectionsBtn").disabled = true;
}
</script>
</body>
</html>
